# Standalone preflight and artifact-inventory targets
# Include this in your main Makefile with: -include Makefile.preflight

.PHONY: preflight artifact-inventory

preflight:
	@echo "ðŸ”Ž Preflight: checking required tools and files..."
	@command -v git >/dev/null || (echo "âŒ git missing"; exit 1)
	@command -v python3 >/dev/null || (echo "âŒ python3 missing"; exit 1)
	@[ -n "$$(git config user.name || true)" ] || git config user.name "SonicBuilder AutoDeploy"
	@[ -n "$$(git config user.email || true)" ] || git config user.email "autodeploy@users.noreply.github.com"
	@echo "âœ… Preflight OK"

artifact-inventory:
	@echo "ðŸ“¦ Artifact inventory (out/ and dist/):"
	@ls -lh out/*.pdf 2>/dev/null || true
	@ls -lh out/*.sha256 2>/dev/null || true
	@ls -lh dist/*.pdf 2>/dev/null || true
