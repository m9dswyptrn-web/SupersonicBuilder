<!-- Header controls -->
<button id="settings-cog" class="btn btn-mini" aria-haspopup="dialog" aria-controls="settings-modal"
        aria-label="Open settings" title="Settings">⚙️</button>

<!-- Settings Modal -->
<div id="settings-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="settings-title" hidden>
  <div class="modal-backdrop" data-close></div>
  <div class="modal-card">
    <header class="modal-header">
      <h2 id="settings-title">Supersonic Settings</h2>
      <button id="settings-close" class="btn btn-mini" title="Close" aria-label="Close">✕</button>
    </header>

    <section class="modal-body">
      <div class="set-row">
        <label>Theme</label>
        <div class="inline">
          <select id="set-theme-mode">
            <option value="dark">Dark</option>
            <option value="light">Light</option>
            <option value="system">System</option>
          </select>
          <button id="set-theme-reset" class="btn btn-mini" title="Reset to System">Reset</button>
        </div>
      </div>

      <div class="set-row">
        <label>Glow effects</label>
        <input id="set-glow" type="checkbox" checked>
        <small class="muted">Restart label & UI accents glow</small>
      </div>

      <hr>

      <div class="set-row">
        <label>Default format</label>
        <select id="set-default-format">
          <option value="pdf">pdf</option>
          <option value="png">png</option>
        </select>
      </div>

      <div class="set-row">
        <label>Default variant</label>
        <select id="set-default-variant">
          <option value="dark">dark</option>
          <option value="light">light</option>
        </select>
      </div>

      <div class="set-row">
        <label>Default quality</label>
        <input id="set-default-quality" type="range" min="0.6" max="2.0" step="0.05" value="1.25">
        <span id="set-default-quality-val" class="muted">1.25×</span>
      </div>

      <div class="set-row">
        <label>Remember last preview on load</label>
        <input id="set-remember-last" type="checkbox">
        <small class="muted">Auto-restore last diagram into preview when the page opens</small>
      </div>

      <hr>

      <div class="set-row">
        <label>Export settings</label>
        <div class="inline">
          <button id="set-export" class="btn btn-mini">Export JSON</button>
          <input id="set-import-file" type="file" accept="application/json" hidden>
          <button id="set-import" class="btn btn-mini">Import JSON</button>
        </div>
      </div>
    </section>

    <footer class="modal-footer">
      <button id="settings-save" class="btn primary">Save</button>
      <button id="settings-cancel" class="btn">Cancel</button>
    </footer>
  </div>
</div>